!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.lipalater=t():e.lipalater=t()}(self,(function(){return(()=>{"use strict";var e={d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function o(e,t){const o=document.createElement("input");return o.type="hidden",o.name=e,o.value=t,o}function n(e){const{itemDetails:t,api_key:n,onFail:i,onSuccess:r}=e,l=function(){const e=document.createElement("div");return e.className="lipa-later-checkout__overlay",e.style.position="fixed",e.style.width="100%",e.style.height="100%",e.style.top="0",e.style.left="0",e.style.right="0",e.style.bottom="0",e.style.backgroundColor="#f0f4f8",e}(),a=function(){const e=document.createElement("iframe");return e.id="lipa-later-checkout",e.name="lipa-later-checkout",e.width="100%",e.height="100%",e}();l.appendChild(a);const c=document.getElementsByTagName("script"),d=c[c.length-1];d.parentNode.insertBefore(l,d.nextSibling),i("failed"),r("success"),function(e,t){const n=e.items,i=document.createElement("form");i.id="lipa-later-item-data",i.method="post",i.target="lipa-later-checkout",i.action="http://localhost:3000";const r=o("order_id",e.order_id),l=o("api_key",t);i.appendChild(r),i.appendChild(l),n.map(((e,t)=>{for(const[o,n]of Object.entries(e)){const e=document.createElement("input");e.type="hidden",e.name=o+(t+1),e.value=n,i.appendChild(e)}})),document.body.appendChild(i),i.submit()}(t,n)}return e.r(t),e.d(t,{openModal:()=>n}),window.addEventListener("message",(e=>{"http://localhost:3000"!==e.origin?console.error(e.origin," is an invalid origin"):document.querySelector(".lipa-later-checkout__overlay").remove()}),!1),t})()}));